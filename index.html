<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>To My Melanie (è”¡è¿å›·) ğŸ’•</title>

<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
}

body {
  font-family: system-ui, -apple-system, sans-serif;
  background: linear-gradient(135deg, #ffe6f2, #fff0f5, #ffe6f2);
  background-size: 300% 300%;
  animation: breatheBg 15s ease infinite;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #d63384;
}

@keyframes breatheBg {
  0%,100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.wrapper {
  text-align: center;
  max-width: 600px;
  padding: 20px;
}

h1 {
  font-size: clamp(2.2rem, 7vw, 3.8rem);
  animation: pulse 2.5s infinite;
}

@keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.06); }
}

.subtitle {
  font-size: clamp(1.4rem, 5vw, 1.8rem);
  margin-bottom: 40px;
  color: #e91e63;
}

.buttons-container {
  position: relative;
  height: 260px;
  display: flex;
  flex-direction: column;
  gap: 90px;
  align-items: center;
}

button {
  font-size: clamp(1.3rem, 5vw, 1.7rem);
  padding: 16px 48px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  box-shadow: 0 8px 25px rgba(0,0,0,0.22);
  transition: transform 0.6s cubic-bezier(.2,.9,.2,1), opacity 0.4s ease;
  position: relative;
}

#yesBtn {
  background: linear-gradient(135deg, #ff4d94, #ff80ab);
  color: white;
  opacity: 0.5;
  pointer-events: none;
}

#yesBtn.active {
  opacity: 1;
  pointer-events: auto;
}

#noBtn {
  background: #6c757d;
  color: white;
}

#noBtn.surrender {
  background: linear-gradient(135deg, #ff4d94, #ff80ab);
  font-weight: bold;
}

/* ğŸš€ COLLISION MOTION */
.merge-left {
  position: absolute;
  top: 50%;
  transform: translate(-220px, -50%) scale(1.15);
}

.merge-right {
  position: absolute;
  top: 50%;
  transform: translate(220px, -50%) scale(1.15);
}

/* ğŸ’¥ HEART EXPLOSION */
.explode-heart {
  position: absolute;
  font-size: 2rem;
  pointer-events: none;
  animation: heartBurst 1.2s ease-out forwards;
}

@keyframes heartBurst {
  from {
    transform: translate(0,0) scale(1);
    opacity: 1;
  }
  to {
    transform: translate(var(--x), var(--y)) scale(0.3);
    opacity: 0;
  }
}

/* ğŸ’– MERGED BUTTON */
.merged-btn {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg, #ff4d94, #ff80ab);
  color: white;
  font-size: clamp(1.6rem, 6vw, 2.2rem);
  padding: 22px 70px;
  border-radius: 999px;
  box-shadow: 0 0 45px rgba(255,77,148,0.9);
  animation: mergedPulse 1.2s ease-in-out infinite;
}

@keyframes mergedPulse {
  0%,100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.12); }
}

.handwritten {
  font-family: 'Caveat', cursive;
  font-size: clamp(2rem, 6vw, 2.8rem);
  color: white;
}

.memory-photo {
  max-width: 85%;
  border-radius: 24px;
  margin-top: 30px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.4);
}
</style>
</head>

<body>

<div class="wrapper" id="app">
  <h1>To My Melanie (è”¡è¿å›·) ğŸ’•</h1>
  <p class="subtitle">Melanie, will you be my Valentine? ğŸŒ¸ğŸ’–</p>

  <div class="buttons-container" id="btnWrap">
    <button id="yesBtn">YESSS!! ğŸ’•ğŸ¥°</button>
    <button id="noBtn">No ğŸ™„ğŸ¥º</button>
  </div>
</div>

<audio id="sparkle" src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sweep-game-trophy-257.mp3"></audio>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const btnWrap = document.getElementById("btnWrap");
const app = document.getElementById("app");
const sparkle = document.getElementById("sparkle");

let noCount = 0;
let yesUnlocked = false;
let finaleLocked = false;

const noOptions = ["NOOO ğŸ˜±","STOP ğŸ˜­","WHY ğŸ˜µ","PLS ğŸ˜¿","ä¸å¥½ğŸ˜°"];
const hearts = ["ğŸ’–","ğŸ’•","ğŸ’˜","ğŸ’—","ğŸ©·","ğŸ’"];

/* âŒ NO BUTTON */
noBtn.addEventListener("click", () => {
  noCount++;

  if (noCount >= 5 && !yesUnlocked) {
    yesUnlocked = true;
    yesBtn.classList.add("active");
    noBtn.textContent = "Okay fineâ€¦ Yes I will be! ğŸ˜ğŸ’•";
    noBtn.classList.add("surrender");
    noBtn.onclick = mergeButtons;
  } else {
    noBtn.textContent = noOptions[Math.min(noCount-1, noOptions.length-1)];
  }
});

/* âœ… YES BUTTON */
yesBtn.addEventListener("click", () => {
  if (yesUnlocked) mergeButtons();
});

/* ğŸ’¥ MERGE + HEART EXPLOSION */
function mergeButtons() {
  if (finaleLocked) return;
  finaleLocked = true;

  sparkle.play().catch(()=>{});

  yesBtn.classList.add("merge-left");
  noBtn.classList.add("merge-right");

  setTimeout(() => {
    explodeHearts();
    yesBtn.style.opacity = 0;
    noBtn.style.opacity = 0;
  }, 450);

  setTimeout(() => {
    const merged = document.createElement("button");
    merged.className = "merged-btn";
    merged.textContent = "FOREVER ğŸ’–";
    btnWrap.appendChild(merged);
  }, 700);

  setTimeout(finalYes, 1600);
}

/* ğŸ’– HEART BURST */
function explodeHearts() {
  for (let i = 0; i < 18; i++) {
    const h = document.createElement("div");
    h.className = "explode-heart";
    h.textContent = hearts[Math.random()*hearts.length|0];
    h.style.left = "50%";
    h.style.top = "50%";
    h.style.setProperty("--x", `${Math.random()*400 - 200}px`);
    h.style.setProperty("--y", `${Math.random()*400 - 200}px`);
    btnWrap.appendChild(h);
    setTimeout(() => h.remove(), 1200);
  }
}

/* ğŸ’– FINAL PAGE */
function finalYes() {
  app.innerHTML = `
    <h1 style="color:white;">YAYYYY!!! ğŸ‰ğŸ’–</h1>
    <p class="handwritten">
      Melanie (è”¡è¿å›·), two paths became one.<br>
      My heart chose you â€” always. ğŸ’˜
    </p>
    <img src="https://i.postimg.cc/yYR21mkP/8b0f9164-ce1a-4748-9f48-386ba1f45bef.jpg"
         class="memory-photo">
  `;
}
</script>

</body>
</html>